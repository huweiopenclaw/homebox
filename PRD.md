# HomeBox - 智能家庭收纳助手

## 产品需求文档 (PRD)

**版本**: 1.0
**日期**: 2026-02-19
**作者**: HOC & 主人

---

## 1. 产品概述

### 1.1 产品定位
HomeBox 是一款基于 AI 视觉识别的智能家庭收纳管理应用，帮助用户轻松记录、管理和查找家中物品的存放位置。

### 1.2 核心价值
- **零门槛记录**：拍照即可记录，无需手动输入
- **智能识别**：AI 自动识别物品类型和数量
- **位置记忆**：记录物品存放的具体位置
- **对话查询**：自然语言问询，快速找到物品

### 1.3 目标用户
- 家庭主妇/主夫：管理大量家庭物品
- 收纳爱好者：追求整洁有序的生活空间
- 搬家频繁者：需要快速整理和查找物品
- 老年人：记忆力下降，需要辅助记忆工具
- 小户型住户：空间有限，物品存放位置复杂

---

## 2. 用户场景

### 2.1 场景一：收纳记录
> 用户整理换季衣物，将毛衣、围巾等放入收纳箱。
> 1. 打开 HomeBox，点击"记录新箱子"
> 2. 对着箱子里的物品拍一张照片
> 3. AI 自动识别：红色毛衣 x2、灰色围巾 x1、毛线帽 x1
> 4. 用户确认或修改识别结果，给箱子命名（如"冬季衣物-1"）
> 5. 对着箱子放置的位置拍一张照片（如卧室衣柜顶层）
> 6. AI 识别位置：卧室衣柜-左侧-顶层
> 7. 保存完成

### 2.2 场景二：查找物品
> 冬天来了，用户想找那顶毛线帽。
> 1. 打开 HomeBox，点击"查找物品"
> 2. 输入或语音说："我的毛线帽在哪？"
> 3. 系统回复："您的毛线帽在【冬季衣物-1】箱子中，位于卧室衣柜左侧顶层"
> 4. 同时展示箱内照片和位置照片

### 2.3 场景三：批量管理
> 用户搬家前整理所有物品。
> 1. 快速拍摄多个箱子
> 2. 批量命名（箱子1、箱子2...或按房间分类）
> 3. 搬到新家后，重新拍摄位置照片更新存放位置

### 2.4 场景四：过期提醒
> 用户存放了婴儿奶粉，担心过期。
> 1. 记录物品时添加保质期信息
> 2. 系统在过期前自动提醒

---

## 3. 功能需求

### 3.1 核心功能

#### P0 - MVP 必备
| 功能 | 描述 | 优先级 |
|------|------|--------|
| 箱内物品拍照 | 拍摄箱子内物品照片 | P0 |
| AI 物品识别 | VLM 识别物品类型、数量 | P0 |
| 位置拍照 | 拍摄箱子存放位置 | P0 |
| AI 位置识别 | VLM 识别位置描述 | P0 |
| 物品存储 | 保存物品、位置、照片信息 | P0 |
| 对话查询 | 自然语言查询物品位置 | P0 |

#### P1 - 重要功能
| 功能 | 描述 | 优先级 |
|------|------|--------|
| 箱子分类 | 按房间/类别管理箱子 | P1 |
| 照片管理 | 查看、删除、重新拍摄 | P1 |
| 物品编辑 | 修改识别结果、添加备注 | P1 |
| 搜索历史 | 查看历史查询记录 | P1 |
| 多设备同步 | 账号登录，数据云端同步 | P1 |

#### P2 - 增强功能
| 功能 | 描述 | 优先级 |
|------|------|--------|
| 语音输入 | 语音查询和命名 | P2 |
| 过期提醒 | 物品保质期管理 | P2 |
| 家人共享 | 多用户共享家庭数据 | P2 |
| 导出报告 | 导出物品清单 PDF/Excel | P2 |
| AR 导航 | AR 指引物品位置（未来） | P2 |

### 3.2 功能详细设计

#### 3.2.1 拍照识别流程
```
[打开相机] → [拍照] → [上传图片] → [VLM 分析] → [返回识别结果] → [用户确认/修改] → [保存]
```

#### 3.2.2 对话查询流程
```
[用户提问] → [NLU 意图理解] → [数据库检索] → [LLM 生成回答] → [展示结果]
```

#### 3.2.3 数据结构

**箱子 (Box)**
```json
{
  "id": "box_001",
  "name": "冬季衣物-1",
  "category": "衣物",
  "location": {
    "room": "卧室",
    "furniture": "衣柜",
    "position": "左侧顶层",
    "location_photo": "url",
    "location_description": "卧室衣柜左侧顶层"
  },
  "items": [
    {
      "name": "红色毛衣",
      "quantity": 2,
      "note": "",
      "expiry_date": null
    },
    {
      "name": "毛线帽",
      "quantity": 1,
      "note": "灰色",
      "expiry_date": null
    }
  ],
  "item_photo": "url",
  "created_at": "2026-02-19T21:00:00Z",
  "updated_at": "2026-02-19T21:00:00Z"
}
```

---

## 4. 非功能需求

### 4.1 性能要求
- 图片上传：< 3秒（压缩后上传）
- AI 识别响应：< 5秒
- 对话查询响应：< 3秒
- 本地数据库查询：< 500ms

### 4.2 安全要求
- 用户数据加密存储
- 图片传输使用 HTTPS
- 支持 Face ID / 指纹解锁
- 数据本地优先，云端可选

### 4.3 兼容性
- iOS 15.0+
- Android 10.0+
- 支持 iPhone 和主流 Android 机型

### 4.4 离线支持
- 本地数据库存储所有记录
- 离线可查询已记录物品
- AI 识别需要网络（或本地小模型）

---

## 5. 商业模式

### 5.1 免费版
- 最多 10 个箱子
- 基础 AI 识别
- 本地存储

### 5.2 高级版 (¥12/月 或 ¥98/年)
- 无限箱子
- 高级 AI 识别（更准确）
- 云端同步
- 多设备支持
- 家庭共享（3人）

### 5.3 终身版 (¥298)
- 永久享受高级版功能

---

## 6. 成功指标

| 指标 | 目标 |
|------|------|
| 日活跃用户 (DAU) | 10,000+ (6个月) |
| 用户留存率 (7日) | > 40% |
| 平均每用户箱子数 | > 5 |
| AI 识别准确率 | > 90% |
| 用户满意度 | > 4.5/5 |

---

## 7. 里程碑

| 阶段 | 时间 | 交付物 |
|------|------|--------|
| MVP | 4周 | 核心功能可用 |
| Beta | 8周 | 完整 P0/P1 功能，小范围测试 |
| V1.0 | 12周 | 正式上线 |
| V1.5 | 16周 | 语音、提醒等功能 |

---

## 8. 风险评估

| 风险 | 等级 | 应对措施 |
|------|------|----------|
| AI 识别准确率不足 | 高 | 持续优化 Prompt，支持用户修正学习 |
| API 成本过高 | 中 | 本地缓存、批量请求、考虑本地模型 |
| 用户隐私担忧 | 中 | 明确隐私政策，本地优先策略 |
| 竞品模仿 | 低 | 快速迭代，建立用户习惯 |

---

## 9. 附录

### 9.1 竞品分析
| 产品 | 优点 | 缺点 |
|------|------|------|
| Packrat | 功能全面 | 手动输入繁琐 |
| Sortly | 支持条码扫描 | 无 AI 识别 |
| Encircle | 保险理赔导向 | 非日常收纳 |

### 9.2 技术选型建议
- **前端**: React Native / Flutter
- **后端**: Node.js / Python FastAPI
- **数据库**: SQLite (本地) + PostgreSQL (云端)
- **AI**: GPT-4V / Claude 3 / GLM-4V
- **存储**: AWS S3 / 阿里云 OSS
